{% extends "base.html" %} {% block content %}
<div
  style="
    background-image: url('/static/photos/hero-2.png');
    background-size: cover;
    background-position: center;
    padding: 200px 0;
    color: white;
    text-align: center;
  "
>
  <h1 style="font-weight: bold">Categories</h1>
  <p class="breadcrumb-text">Home > Categories</p>
</div>

<div style="background-color: #333; padding: 50px 0; text-align: center">
  <h1 style="color: white; margin-bottom: 30px">Categories We Offer</h1>

  {% if categories %}
  <div
    id="categoryCarousel"
    class="carousel slide"
    data-bs-ride="carousel"
    style="width: 90%; max-width: 1200px; margin: 0 auto"
  >
    <div class="carousel-inner">
      {% for group in categories|batch(3, '') %}
      <div class="carousel-item {% if loop.first %}active{% endif %}">
        <div class="row">
          {% for category in group %} {% if category %}
          <div class="col-md-4">
            <a
              href="{{ url_for('category_detail', category_id=category['categoryid']) }}"
              style="text-decoration: none"
            >
              <div class="image-container">
                {% if category['poster'] %}
                <img
                  src="{{ url_for('static', filename='photos/' + category['poster']) }}"
                  alt="{{ category['categoryname'] }} Poster"
                  class="category-image img-fluid"
                />
                {% endif %}
                <div class="overlay">
                  <h5 class="category-title">{{ category['categoryname'] }}</h5>
                </div>
              </div>
            </a>
          </div>
          {% endif %} {% endfor %}
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- Carousel navigation buttons -->
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#categoryCarousel"
      data-bs-slide="prev"
      style="width: 5%"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#categoryCarousel"
      data-bs-slide="next"
      style="width: 5%"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
  {% else %}
  <p style="color: white">No categories found.</p>
  {% endif %}
</div>

<style>
  /* Main container for each category */
  .category-item {
    position: relative;
    overflow: hidden;
  }

  /* Image styling */
  .image-container {
    position: relative;
    overflow: hidden;
    border-radius: 8px;
    margin: 10px;
    text-align: center; /* Center align content */
  }

  .category-image {
    max-width: 100%; /* Shrinks images to fit the container's width */
    max-height: 200px; /* Restricts the maximum height */
    height: auto; /* Maintains the aspect ratio */
    width: auto; /* Ensures proper scaling */
    display: inline-block;
    transition: transform 0.5s ease;
  }

  /* Overlay effect */
  .overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  /* Hover effects */
  .image-container:hover .category-image {
    transform: scale(1.1);
  }

  .image-container:hover .overlay {
    opacity: 1;
  }

  /* Title styling */
  .category-title {
    font-size: 18px;
    text-transform: uppercase;
    font-weight: bold;
    text-align: center;
    margin: 0;
    padding: 0 10px;
  }

  /* Carousel Navigation */
  .carousel-control-prev,
  .carousel-control-next {
    top: 50%;
    transform: translateY(-50%);
  }

  /* Button Styling */
  .btn-warning {
    background-color: #ff6a00; /* Match button color with Packages page */
    border: none;
    color: white;
    font-size: 14px;
    padding: 8px 16px;
  }
</style>

{% endblock %}
